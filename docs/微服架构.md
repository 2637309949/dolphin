该框架是使用istio来实现微服治理的，更多微服网格可以查看`服务网格`文档。下面简单罗列在Golang中微服实现的方案。

### 微服架构

<img align="center" width="400px" src="https://hub.fastgit.org/2637309949/dolphin/blob/master/assets/docs-micro.png">

### 微服方案
Golang微服框架在早期的生态圈中是比较少， 同时服务框架也通常分为两种， 一种使用原生语言实现的服务自治，一种使用服务网格实现的服务自治。
#### 自举框架
比如 早期Golang中的go-kit, go-micro， 这里推荐几个国内的

1. jupiter  
Jupiter 是斗鱼开源的一套微服务治理框架，提供丰富的后台功能，管理应用的资源、配置，应用的性能、配置等可视化。

<img align="center" width="400px" src="https://hub.fastgit.org/2637309949/dolphin/blob/master/assets/jupiter.png">


> 需要了解更多jupiter知识可以查看http://jupiter.douyu.com/

2. go-zero  
go-zero是一个集成了各种工程实践的包含web和rpc框架，有如下主要特点：

   - 强大的工具支持，尽可能少的代码编写
   - 极简的接口
   - 完全兼容net/http
   - 支持中间件，方便扩展
   - 高性能
   - 面向故障编程，弹性设计
   - 内建服务发现、负载均衡
   - 内建限流、熔断、降载，且自动触发，自动恢复
   - API参数自动校验
   - 超时级联控制
   - 自动缓存控制
   - 链路跟踪、统计报警等
   - 高并发支撑，稳定保障了晓黑板疫情期间每天的流量洪峰

<img align="center" width="400px" src="https://hub.fastgit.org/2637309949/dolphin/blob/master/assets/go-zero.png">

> 需要了解更多go-zero知识可以查看https://go-zero.dev/en/

#### 服务网格
1. istio  

    Istio 是一个由谷歌、IBM 与 Lyft 共同开发的开源项目，旨在提供一种统一化的微服务连接、安全保障、管理与监控方式。Istio 项目能够为微服务架构提供流量管理机制，同时亦为其它增值功能（包括安全性、监控、路由、连接管理与策略等）创造了基础。这款软件利用久经考验的 Lyft Envoy 代理进行构建，可在无需对应用程序代码作出任何发动的前提下实现可视性与控制能力。Istio 项目是一款强大的工具，可帮助 CTO/CIO 们立足企业内部实施整体性安全、政策与合规性要求。



- 集群规模可视性：在故障状况出现时，运营人员需要利用多种工具以始终关注集群运行状况并分析微服务状态图表。Istio 项目能够监控与应用程序及网络活动相关的数据，利用 Prometheus 与 Grafana 对这部分数据加以渲染，而后将相关指标与日志记录发送至任何收集、聚合与查询系统当中以实现功能扩展。Istio 项目亦利用 Zipkin 追踪分析性能热点并对分布式故障模式加以诊断。

- 弹性与效率：在开发微服务时，运营人员需要假设网络本身处于不可靠状态。运营人员能够利用重试、负载均衡、流量控制（HTTP/2）以及断路补偿等方式解决由网络可靠性低下所造成的各类常见故障模式。Istio 项目则提供一种统一方法以配置上述功能，使得运营人员能够更为轻松地运作高弹性水平服务网格。

- 开发人员生产力：Istio 项目能够确保开发人员专注于利用已选择的编程语言构建服务功能，从而极大提升其生产能力。另外，Istio 项目则负责以统一化方式处理弹性与网络挑战。开发人员无需将解决方案的分布式系统问题解决机制引入编写的代码当中。Istio 项目还能够支持 A/B 测试、金丝雀部署以及故障注入等常用功能，旨在进一步提高生产效率。

- 政策驱动型运营：Istio 项目能够授权具有不同职能的团队以实现独立运作。其将集群运营人员与功能开发人员进行周期性剥离，从而在无需更改代码的前提下提升安全性、监控能力、扩展性与服务拓扑水平。运营人员能够精确控制生产流量中各个子集的路由方式，从而匹配新的服务版本。另外，运营人员还能够在流量中注入故障或者提高延迟水平，用以测试服务见长的弹性 ; 同时设置速率限制以防止服务过载。Istio 项目还可用于强制执行合规性要求，例如在服务之间定义 CL 以确保仅具备授权的服务间可相互通信。

- 默认安全：分布式计算当中经常存在着大量网络安全问题。Istio 项目允许运营人员利用 TLS 连接以认证并保护各服务之间的所有通信，而不会给开发人员或者运营人员带来由证书管理造成的额外负担。其安全框架与新的 SPIFFE 规范保持一致，事实上谷歌公司一直在内部广泛使用类似的保障性系统。

- 增量化采用：在设计 Istio 项目时充分考虑到网络内所运行各服务的透明性，允许团队随着时间推移逐步采用 Istio 提供的各项功能。采用方可以先从启用集群范围内可视性起步，并在 Istio 在环境中的表现感到满意后根据实际需要启用其它功能。

<img align="center" width="400px" src="https://hub.fastgit.org/2637309949/dolphin/blob/master/assets/docs-arch.jpg">


> 需要了解更多istio知识可以查看https://istio.io/latest/docs/ops/deployment/architecture/
