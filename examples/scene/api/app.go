// Code generated by dol build. Only Generate by tools if not existed, your can rewrite platform.App default action
// source: app.go

package api

import (
	"scene/svc"

	"github.com/2637309949/dolphin/platform/api"
	"github.com/sirupsen/logrus"
)

// var defined TODO
var (
	App = api.App
)

// type defined TODO
type (
	Context struct {
		*api.Context
	}
)

// HelloMiddle defiend TODO
func HelloMiddle(name string) func(ctx *Context) {
	return func(ctx *Context) {
		logrus.Infof("dolphin %v middles", name)
	}
}

// Run defined TODO
func Run() {
	MiddlesInstance.LocalTest.Interceptor = HelloMiddle("local")

	SyncModel()
	SyncSrv(svc.NewServiceContext(api.CacheStore))
	SyncController()

	App.Use(HelloMiddle("global"))
	err := App.Run()
	if err != nil {
		panic(err)
	}
}
